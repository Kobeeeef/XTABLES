(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8964:function(e,t,s){Promise.resolve().then(s.bind(s,476))},476:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var l=s(7437),n=s(2265),a=function(e){let{index:t,ip:s,messages:n,onDisconnectClick:a}=e;return(0,l.jsxs)("div",{className:"border border-gray-900 rounded-md pt-[20px] text-left p-[24px] shadow-2xl mt-[30px]",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center mb-[2px]",children:[(0,l.jsxs)("h6",{className:"uppercase font-bold text-xl text-white",children:["Client #",t,"\xa0"]}),(0,l.jsx)("div",{className:"bg-[#4cae50] text-white inline-block  p-[5px] px-[10px] rounded-[15px] text-[12px] font-bold ml-[12px]",children:"Connected"})]}),(0,l.jsxs)("div",{className:"flex flex-row items-center mb-[12px]",children:[(0,l.jsx)("div",{className:"mt-[8px] text-left text-[14px] text-gray-500",children:s}),(0,l.jsxs)("div",{className:"flex-1 text-right text-gray-500 text-[11px]",children:[n," requests/min"]})]}),(0,l.jsx)("div",{className:"bg-black w-full h-0.5 my-5 rounded-2xl"}),(0,l.jsx)("button",{onClick:()=>a(),className:"flex w-full items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-rose-600 rounded-lg hover:bg-rose-500 focus:outline-none focus:ring focus:ring-rose-300 focus:ring-opacity-80",children:(0,l.jsx)("span",{className:"mx-1 justify-center flex-1",children:"Disconnect"})})]})},i=s(6037),r=function(){var e,t,s,r;let o={status:"OFFLINE",ip:"Disconnected",totalMessages:0,clientDataList:[]},[c,d]=(0,n.useState)(o),x=async()=>{await fetch("/api/reboot",{method:"POST",headers:{"Content-Type":"application/json"}})},u=async e=>{await fetch("/api/disconnect?uuid="+e,{method:"POST",headers:{"Content-Type":"application/json"}})};return((0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/get"),t=await e.json();d(t)}catch(e){console.error("Error fetching data:",e),d(o)}};e();let t=setInterval(e,150);return()=>clearInterval(t)},[]),c)?(0,l.jsx)(i.default,{children:(0,l.jsx)("div",{className:"fadeIn flex h-screen w-screen bg-gradient-to-r from-slate-500 to-slate-800",children:(0,l.jsxs)("div",{className:"p-6 bg-gray-800 shadow-lg shadow-black/10 rounded-md max-w-7xl w-full my-6 mx-auto flex flex-col mb-6",children:[(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("img",{src:"/logo.png",className:"xl:w-[30rem] lg:w-[25rem] sm:w-[20rem]",alt:"Logo"})}),(0,l.jsx)("div",{className:"my-6 mx-auto w-full",children:(0,l.jsxs)("div",{className:"shadow-2xl border border-gray-900 rounded-md p-6 mt-6",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center mb-2",children:[(0,l.jsx)("h6",{className:"uppercase font-extrabold text-xl text-white",children:"XTABLES\xa0"}),(0,l.jsx)("div",{className:"text-white inline-block p-2 px-4 rounded-full text-xs font-bold ml-3 "+((null==c?void 0:c.status)==="ONLINE"?"bg-green-500":(null==c?void 0:c.status)==="STARTING"?"bg-yellow-500":(null==c?void 0:c.status)==="REBOOTING"?"bg-amber-100":"bg-red-500"),children:(null==c?void 0:c.status)==="ONLINE"?"Fully Operational":(null==c?void 0:c.status)==="STARTING"?"Starting Service":(null==c?void 0:c.status)==="REBOOTING"?"Rebooting":"Offline"})]}),(0,l.jsxs)("div",{className:"flex flex-row items-center mb-3",children:[(0,l.jsx)("div",{className:"mt-2 text-left text-sm text-gray-500",children:null!==(s=null==c?void 0:c.ip)&&void 0!==s?s:"Disconnected"}),(0,l.jsxs)("div",{className:"flex-1 text-right text-gray-500 text-xs",children:[null!==(r=null==c?void 0:null===(e=c.totalMessages)||void 0===e?void 0:e.toLocaleString())&&void 0!==r?r:0," requests/min"]})]}),(0,l.jsx)("div",{className:"bg-black w-full h-0.5 my-5 rounded-2xl"}),(0,l.jsx)("button",{onClick:x,disabled:"ONLINE"!==c.status,className:"flex w-full items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-rose-600 rounded-lg hover:bg-rose-500 focus:outline-none focus:ring focus:ring-rose-300 focus:ring-opacity-80 "+("ONLINE"!==c.status?"cursor-not-allowed opacity-45":"cursor-pointer"),children:"STARTING"===c.status||"REBOOTING"===c.status?(0,l.jsxs)("span",{className:"flex items-center mx-1 justify-center flex-1",children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}),"Loading..."]}):(0,l.jsx)("span",{className:"mx-1 justify-center flex-1",children:"Reboot"})})]})}),(0,l.jsx)("h1",{className:"font-bold flex justify-center text-2xl text-white",children:"Clients"}),(0,l.jsx)("div",{className:"bg-black w-full h-0.5 mb-3 mt-2 rounded-2xl"}),(0,l.jsx)("div",{className:"flex-1 mx-auto w-full h-0 min-h-0 overflow-y-scroll",children:null==c?void 0:null===(t=c.clientDataList)||void 0===t?void 0:t.map((e,t)=>(0,l.jsx)(a,{index:t+1,ip:e.clientIP,messages:e.messages.toLocaleString(),onDisconnectClick:()=>u(e.identifier)},t+1))})]})})}):(0,l.jsx)("div",{children:"Loading..."})}},6037:function(e,t,s){"use strict";s.r(t);var l=s(7437),n=s(2265),a=s(4365),i=s.n(a);t.default=e=>{let{children:t}=e,[s,a]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=()=>{setTimeout(()=>a(!0),800)};return"complete"===document.readyState?e():(window.addEventListener("load",e),document.addEventListener("DOMContentLoaded",e)),()=>{window.removeEventListener("load",e),document.removeEventListener("DOMContentLoaded",e)}},[]),(0,l.jsxs)(l.Fragment,{children:[!(s&&r)&&(0,l.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},className:"bg-gradient-to-r from-slate-900 to-slate-700",children:[(0,l.jsx)("img",{src:"/logo.png",alt:"Logo",className:"xl:w-[30rem] lg:w-[25rem] sm:w-[20rem] w-9",style:{marginBottom:"16px"}}),(0,l.jsx)("div",{className:"font-extrabold text-xl",style:{textAlign:"center"},children:(0,l.jsx)(i(),{onInit:e=>{e.changeDelay(1).typeString("Loading all assets").changeDeleteSpeed(1).pauseFor(500).deleteAll().changeDelay(40).typeString("XTABLES DASHBOARD").pauseFor(600).callFunction(()=>{o(!0)}).start()}})})]}),s&&r&&t]})}}},function(e){e.O(0,[365,971,23,744],function(){return e(e.s=8964)}),_N_E=e.O()}]);