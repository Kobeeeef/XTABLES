(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8964:function(e,t,s){Promise.resolve().then(s.bind(s,4196))},4196:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var l=s(7437),n=s(2265),i=s(7583),a=s.n(i),o=function(e){var t;let{isOpen:s,onClose:n,serverBufferSize:i,statistics:o}=e;return(0,l.jsxs)(a(),{ariaHideApp:!1,isOpen:s,onRequestClose:n,contentLabel:"Client Statistics",className:"bg-white rounded-lg p-8 max-w-2xl w-full mx-auto my-auto shadow-lg max-h-[90vh] overflow-y-auto",overlayClassName:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center fadeInFast",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-gray-700",children:"Information"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg text-gray-600",children:"Memory Usage"}),(0,l.jsx)("table",{className:"w-full text-left text-gray-700",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Free Memory (MB):"}),(0,l.jsx)("td",{children:null==o?void 0:o.freeMemoryMB})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Used Memory (MB):"}),(0,l.jsx)("td",{children:null==o?void 0:o.usedMemoryMB})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Max Memory (MB):"}),(0,l.jsx)("td",{children:null==o?void 0:o.maxMemoryMB})]})]})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg text-gray-600",children:"CPU & Thread Information"}),(0,l.jsx)("table",{className:"w-full text-left text-gray-700",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"CPU Load (%):"}),(0,l.jsx)("td",{children:null==o?void 0:null===(t=o.processCpuLoadPercentage)||void 0===t?void 0:t.toFixed(2)})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Available Processors:"}),(0,l.jsx)("td",{children:null==o?void 0:o.availableProcessors})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Total Threads:"}),(0,l.jsx)("td",{children:null==o?void 0:o.totalThreads})]})]})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg text-gray-600",children:"System Status"}),(0,l.jsx)("table",{className:"w-full text-left text-gray-700",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Health Status:"}),(0,l.jsx)("td",{className:"font-bold ".concat((null==o?void 0:o.health)==="GOOD"?"text-green-500":(null==o?void 0:o.health)==="OKAY"?"text-yellow-500":(null==o?void 0:o.health)==="STRESSED"?"text-orange-500":(null==o?void 0:o.health)==="OVERLOAD"?"text-red-600":(null==o?void 0:o.health)==="CRITICAL"?"text-red-800":"text-gray-500"),children:null==o?void 0:o.health})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"IP Address:"}),(0,l.jsxs)("td",{children:[null==o?void 0:o.ip,"/",null==o?void 0:o.hostname]})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Process ID:"}),(0,l.jsx)("td",{children:null==o?void 0:o.processId})]}),i>=0?(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Server Buffer:"}),(0,l.jsxs)("td",{children:[null!=i?i:0,"/1000"]})]}):null]})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg text-gray-600",children:(null==o?void 0:o.type)==="JAVA"?"Java Environment":(null==o?void 0:o.type)==="PYTHON"?"Python Environment":"Unknown Environment"}),(null==o?void 0:o.type)==="JAVA"?(0,l.jsx)("table",{className:"w-full text-left text-gray-700",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Java Version:"}),(0,l.jsx)("td",{children:null==o?void 0:o.javaVersion})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Java Vendor:"}),(0,l.jsx)("td",{children:null==o?void 0:o.javaVendor})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"JVM Name:"}),(0,l.jsx)("td",{children:null==o?void 0:o.jvmName})]})]})}):(null==o?void 0:o.type)==="PYTHON"?(0,l.jsx)("table",{className:"w-full text-left text-gray-700",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Python Version:"}),(0,l.jsx)("td",{children:null==o?void 0:o.pythonVersion})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Python Vendor:"}),(0,l.jsx)("td",{children:null==o?void 0:o.pythonVendor})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2",children:"Compiler Name:"}),(0,l.jsx)("td",{children:null==o?void 0:o.pythonCompiler})]})]})}):(0,l.jsx)("p",{className:"w-full text-left text-gray-700",children:"The environment is unknown..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg text-gray-600",children:"Current Version"}),(0,l.jsx)("p",{className:"text-gray-700",children:null==o?void 0:o.version})]})]}),(0,l.jsx)("button",{onClick:n,className:"mt-6 px-4 w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 focus:outline-none",children:"Close"})]})},r=function(e){let{index:t,ip:s,messages:i,serverBufferSize:a,onDisconnectClick:r,hostname:d,stats:c,identifier:x}=e,[u,m]=(0,n.useState)(!1),h=()=>{m(!0),fetch("/api/ping?uuid="+x,{method:"POST",headers:{"Content-Type":"application/json"}}).then(()=>{m(!1)}).catch(()=>{m(!1)})},[f,p]=(0,n.useState)(!1),g=()=>p(!0);return(0,l.jsxs)("div",{className:"border-2 border-gray-900 rounded-md pt-[20px] text-left p-[24px] shadow-2xl mt-[30px]",children:[(0,l.jsx)(o,{isOpen:f,serverBufferSize:a,onClose:()=>p(!1),statistics:null!=c?c:null}),(0,l.jsxs)("div",{className:"flex flex-row items-center mb-[2px]",children:[(0,l.jsx)("h6",{className:"uppercase font-bold text-xl text-white",children:c?c.hostname:"Client #".concat(t)}),(0,l.jsx)("div",{className:"bg-[#4cae50] text-white inline-block p-[5px] px-[10px] rounded-[15px] text-[12px] font-bold ml-[12px]",children:"Connected"}),c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"hidden md:block text-white inline-block p-[5px] px-[10px] rounded-[15px] text-[12px] font-bold ml-[10px] "+("GOOD"===c.health?"bg-[#4cae50]":"OKAY"===c.health||"STRESSED"===c.health?"bg-yellow-600":"bg-red-700"),children:c.health}),(null==c?void 0:c.type)?(0,l.jsx)("div",{className:"hidden md:block text-white p-[5px] px-[10px] rounded-[15px] text-[12px] font-bold ml-[10px] "+("PYTHON"===c.type?"bg-yellow-500":"JAVA"===c.type?"bg-orange-500":"bg-gray-500"),children:c.type}):null]}):null,c?(0,l.jsx)("button",{onClick:()=>{g(),h()},className:"bg-indigo-500 text-white inline-block p-[5px] px-[10px] rounded-[6px] text-[12px] font-bold ml-auto",children:"Information"}):null]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between mb-3 space-y-2 md:space-y-0 md:space-x-4",children:[(0,l.jsxs)("div",{className:"mt-[8px] text-left text-[14px] text-gray-500",children:[s,"\xa0|\xa0",d]}),(0,l.jsxs)("div",{className:"flex-1 text-right text-gray-500 text-[11px]",children:[i," RIM"]})]}),(0,l.jsx)("button",{onClick:()=>h(),disabled:u,className:"mb-2 flex w-full items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-indigo-600 rounded-lg hover:bg-indigo-500 focus:outline-none focus:ring focus:ring-indigo-300 focus:ring-opacity-80 "+(u?"cursor-not-allowed opacity-45":"cursor-pointer"),children:u?(0,l.jsxs)("span",{className:"flex items-center justify-center flex-1",children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}),"Loading..."]}):(0,l.jsx)("span",{className:"mx-1 justify-center flex-1",children:"Debug Information"})}),(0,l.jsx)("button",{onClick:()=>r(),disabled:u,className:"flex w-full items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-rose-600 rounded-lg hover:bg-rose-500 focus:outline-none focus:ring focus:ring-rose-300 focus:ring-opacity-80 "+(u?"cursor-not-allowed opacity-45":"cursor-pointer"),children:u?(0,l.jsxs)("span",{className:"flex items-center justify-center flex-1",children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}),"Loading..."]}):(0,l.jsx)("span",{className:"mx-1 justify-center flex-1",children:"Disconnect"})})]})},d=s(4365),c=s.n(d),x=e=>{let{children:t}=e,[s,i]=(0,n.useState)(!1),[a,o]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=()=>{setTimeout(()=>i(!0),800)};return"complete"===document.readyState?e():(window.addEventListener("load",e),document.addEventListener("DOMContentLoaded",e)),()=>{window.removeEventListener("load",e),document.removeEventListener("DOMContentLoaded",e)}},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:s&&a?0:1,visibility:s&&a?"hidden":"visible",transition:"opacity 1s ease, visibility 1s ease"},className:"bg-gradient-to-r from-slate-900 to-slate-700",children:[(0,l.jsx)("img",{src:"/logo.png",alt:"Logo",className:"xl:w-[30rem] lg:w-[25rem] sm:w-[20rem] w-[15rem]",style:{marginBottom:"16px"}}),(0,l.jsx)("div",{className:"font-extrabold text-xl text-white",style:{textAlign:"center"},children:(0,l.jsx)(c(),{onInit:e=>{e.changeDelay(3).typeString("XTABLES DASHBOARD").pauseFor(300).callFunction(()=>{o(!0)}).start()}})})]}),(0,l.jsx)("div",{style:{opacity:s&&a?1:0,transition:"opacity 1s ease"},children:t})]})};s(7449);var u=s(4427),m=function(e){let{isOpen:t,onClose:s,updateJson:i,jsonData:o}=e;return(0,n.useEffect)(()=>{let e;let s=()=>{i(),e=setTimeout(s,1e3)};return t&&s(),()=>{e&&clearTimeout(e)}},[t]),(0,l.jsxs)(a(),{ariaHideApp:!1,isOpen:t,onRequestClose:s,contentLabel:"Client Statistics",className:"bg-white rounded-lg p-8 max-w-2xl w-full mx-auto my-auto shadow-lg max-h-[90vh] overflow-y-auto",overlayClassName:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center fadeInFast",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-gray-700",children:"Table Information"}),(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"overflow-y-auto",children:(0,l.jsx)(u.L,{shouldExpandNodeInitially:()=>!0,theme:"google",data:null!=o?o:{},hideRoot:!0})})})}),(0,l.jsx)("button",{onClick:s,className:"mt-6 px-4 w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 focus:outline-none",children:"Close"}),(0,l.jsx)("button",{onClick:i,className:"mt-2 px-4 w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 focus:outline-none",children:"Update"})]})},h=function(){var e,t,s,i,a,d;let c={status:"OFFLINE",ip:"Disconnected",totalMessages:0,clientDataList:[]},u=async()=>{await fetch("/api/reboot",{method:"POST",headers:{"Content-Type":"application/json"}})},h=async e=>{await fetch("/api/disconnect?uuid="+e,{method:"POST",headers:{"Content-Type":"application/json"}})},f=async()=>{C(!0);let e=await fetch("/api/data",{method:"GET",headers:{"Content-Type":"application/json"}}).catch(()=>{C(!1)});C(!1),v(await e.json()),g(!0)},[p,g]=(0,n.useState)(!1),[j,v]=(0,n.useState)({}),[y,w]=(0,n.useState)(c),[N,b]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),[T,E]=(0,n.useState)(0),[O,L]=(0,n.useState)(0),[I,k]=(0,n.useState)({diff:0,prevTime:Date.now()}),[D,M]=(0,n.useState)(0),[R,F]=(0,n.useState)(0);if((0,n.useEffect)(()=>{let e=!0;return(async()=>{for(;e;){try{let e=await fetch("/api/get"),t=await e.json();w(t),k(e=>{let t=Date.now();return{diff:t-e.prevTime,prevTime:t}})}catch(e){w(c),E(0),L(0),console.error("Error fetching data:",e)}await new Promise(e=>setTimeout(e,150))}})(),()=>{e=!1}},[]),(0,n.useEffect)(()=>{if(I.diff>0&&void 0!==y.framesForwarded&&void 0!==y.totalMessages){let e=y.framesForwarded-D,t=y.totalMessages-R,s=e/I.diff*1e3,l=t/I.diff*1e3;E(s),L(l),M(y.framesForwarded),F(y.totalMessages)}},[y,I]),!y)return(0,l.jsx)("div",{children:"Loading..."});let A=()=>b(!0);return(0,l.jsx)(x,{children:(0,l.jsxs)("div",{className:" flex min-h-screen w-screen bg-gradient-to-r from-slate-500 to-slate-800 overflow-hidden",children:[(0,l.jsx)(o,{isOpen:N,onClose:()=>b(!1),serverBufferSize:-1,statistics:null!=y?y:null}),(0,l.jsx)(m,{updateJson:function(){C(!0),fetch("/api/data",{method:"GET",headers:{"Content-Type":"application/json"}}).catch(()=>{C(!1)}).then(async e=>{C(!1),v(await e.json())})},isOpen:p,onClose:()=>g(!1),jsonData:j}),(0,l.jsxs)("div",{className:"p-6 bg-gray-800 shadow-lg shadow-black/10 lg:rounded-md max-w-7xl w-full lg:my-6 mx-auto flex flex-grow flex-col ",children:[(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("img",{src:"/logo.png",className:"xl:w-[30rem] lg:w-[25rem] sm:w-[20rem]",alt:"Logo"})}),(0,l.jsx)("div",{className:"my-6 mx-auto w-full",children:(0,l.jsxs)("div",{className:"shadow-2xl border-2 border-gray-900 rounded-md p-6 mt-6",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center mb-2",children:[(0,l.jsx)("h6",{className:"uppercase font-extrabold text-xl text-white",children:"XTABLES\xa0"}),(0,l.jsx)("div",{className:"text-white inline-block p-2 px-4 rounded-full text-xs font-bold ml-3 "+((null==y?void 0:y.status)==="ONLINE"?"bg-green-500":(null==y?void 0:y.status)==="STARTING"?"bg-yellow-500":(null==y?void 0:y.status)==="REBOOTING"?"bg-amber-500":"bg-red-500"),children:(null==y?void 0:y.status)==="ONLINE"?"Fully Operational":(null==y?void 0:y.status)==="STARTING"?"Starting Service":(null==y?void 0:y.status)==="REBOOTING"?"Rebooting":"Offline"}),(0,l.jsx)("button",{onClick:()=>{A()},className:"bg-indigo-500 text-white inline-block p-[5px] px-[10px] rounded-[6px] text-[12px] font-bold ml-auto",children:"Information"})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between mb-3 space-y-2 md:space-y-0 md:space-x-4",children:[(0,l.jsx)("div",{className:"text-sm text-gray-500 md:text-left text-center w-full md:w-auto",children:(null==y?void 0:y.ip)&&(null==y?void 0:y.hostname)?"".concat(null==y?void 0:y.ip," | ").concat(null==y?void 0:y.hostname):"Disconnected"}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 text-center w-full md:w-auto",children:[null!==(a=null==y?void 0:null===(e=y.framesForwarded)||void 0===e?void 0:e.toLocaleString())&&void 0!==a?a:0,"\xa0FIM\xa0|\xa0",60*T<0?"RESET":(60*T).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),"\xa0FPM\xa0|\xa0",T<0?"RESET":T.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),"\xa0FPS"]}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 text-center md:text-right w-full md:w-auto",children:[null!==(d=null==y?void 0:null===(t=y.totalMessages)||void 0===t?void 0:t.toLocaleString())&&void 0!==d?d:0,"\xa0RIM\xa0|\xa0",60*O<0?"RESET":(60*O).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),"\xa0RPM\xa0|\xa0",O<0?"RESET":O.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),"\xa0RPS"]})]}),(0,l.jsx)("button",{onClick:u,disabled:"ONLINE"!==y.status,className:"flex w-full items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-rose-600 rounded-lg hover:bg-rose-500 focus:outline-none focus:ring focus:ring-rose-300 focus:ring-opacity-80 "+("ONLINE"!==y.status?"cursor-not-allowed opacity-45":"cursor-pointer"),children:"STARTING"===y.status||"REBOOTING"===y.status?(0,l.jsxs)("span",{className:"flex items-center mx-1 justify-center flex-1",children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}),"Starting..."]}):(0,l.jsx)("span",{className:"mx-1 justify-center flex-1",children:"Reboot"})}),(0,l.jsx)("button",{onClick:f,disabled:"ONLINE"!==y.status||S,className:"mt-2 flex w-full items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-indigo-600 rounded-lg hover:bg-indigo-500 focus:outline-none focus:ring focus:ring-indigo-300 focus:ring-opacity-80 "+("ONLINE"!==y.status?"cursor-not-allowed opacity-45":"cursor-pointer"),children:"STARTING"===y.status||"REBOOTING"===y.status||S?(0,l.jsxs)("span",{className:"flex items-center mx-1 justify-center flex-1",children:[(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}),"STARTING"===y.status||"REBOOTING"===y.status?"Starting...":"Loading..."]}):(0,l.jsx)("span",{className:"justify-center flex-1",children:"View"})})]})}),(null==y?void 0:null===(s=y.clientDataList)||void 0===s?void 0:s.length)>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"font-bold flex justify-center text-2xl text-white",children:"Clients"}),(0,l.jsx)("div",{className:"flex-1 w-full overflow-y-auto no-scrollbar min-h-0 flex-grow max-h-[40vh]",children:null==y?void 0:null===(i=y.clientDataList)||void 0===i?void 0:i.map((e,t)=>{var s;return(0,l.jsx)(r,{index:t+1,hostname:null==e?void 0:e.hostname,ip:null==e?void 0:e.clientIP,messages:e.messages.toLocaleString(),identifier:e.identifier,serverBufferSize:null!==(s=null==e?void 0:e.bufferSize)&&void 0!==s?s:0,stats:(null==e?void 0:e.stats)?JSON.parse(e.stats):null,onDisconnectClick:()=>h(e.identifier)},t+1)})})]})]})]})})}}},function(e){e.O(0,[52,971,23,744],function(){return e(e.s=8964)}),_N_E=e.O()}]);