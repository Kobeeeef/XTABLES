(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8964:function(e,t,s){Promise.resolve().then(s.bind(s,476))},4710:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{emit:function(){return i},off:function(){return r},on:function(){return a}});let s=new Set,n=[];function l(){setTimeout(function(){for(;n.length&&s.size;){let e=n.shift();s.forEach(t=>t(e))}},1)}function i(e){n.push(Object.freeze({...e})),l()}function a(e){return!s.has(e)&&(s.add(e),l(),!0)}function r(e){return!!s.has(e)&&(s.delete(e),!0)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},476:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var n=s(7437),l=s(2265);s(4710);var i=function(e){let{index:t,ip:s,messages:l,onDisconnectClick:i}=e;return(0,n.jsxs)("div",{className:"border border-[#ededed] rounded-md pt-[20px] text-left p-[24px] border-t border-t-[#eee] mt-[30px]",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center mb-[2px]",children:[(0,n.jsxs)("h6",{className:"uppercase font-bold text-xl text-black",children:["Client #",t,"\xa0"]}),(0,n.jsx)("div",{className:"bg-[#4cae50] text-white inline-block  p-[5px] px-[10px] rounded-[15px] text-[12px] font-bold ml-[12px]",children:"Connected"})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center mb-[12px]",children:[(0,n.jsx)("div",{className:"mt-[8px] text-left text-[14px] text-black",children:s}),(0,n.jsxs)("div",{className:"flex-1 text-right text-[#7c7c7c] text-[11px]",children:[l," requests/min"]})]}),(0,n.jsx)("div",{className:"bg-gray-200 w-full h-0.5 my-5 rounded-2xl"}),(0,n.jsx)("button",{onClick:()=>i(),className:"flex w-full items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-rose-600 rounded-lg hover:bg-rose-500 focus:outline-none focus:ring focus:ring-rose-300 focus:ring-opacity-80",children:(0,n.jsx)("span",{className:"mx-1 justify-center flex-1",children:"Disconnect"})})]})},a=function(){let[e,t]=(0,l.useState)(null),s=async()=>{await fetch("/api/reboot",{method:"POST",headers:{"Content-Type":"application/json"}})},a=async e=>{await fetch("/api/disconnect?uuid="+e,{method:"POST",headers:{"Content-Type":"application/json"}})};return((0,l.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/get"),s=await e.json();t(s)}catch(e){console.error("Error fetching data:",e)}};e();let s=setInterval(e,150);return()=>clearInterval(s)},[]),e)?(0,n.jsx)("div",{className:"flex bg-gray-200 h-screen w-screen",children:(0,n.jsxs)("div",{className:"p-6 bg-white shadow-lg shadow-black/10 rounded-md max-w-5xl w-full my-6 mx-auto flex flex-col mb-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("img",{src:"favicon.ico",alt:"Logo",width:"50px",height:"50px"}),(0,n.jsx)("span",{className:"bg-[#f5f6f8] rounded-md p-3 ml-3 text-xl font-extrabold uppercase text-black",children:"System Status"})]}),(0,n.jsx)("div",{className:"my-6 mx-auto w-full",children:(0,n.jsxs)("div",{className:"border border-gray-200 rounded-md p-6 mt-6",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center mb-2",children:[(0,n.jsx)("h6",{className:"uppercase font-bold text-xl text-black",children:"XTABLES\xa0"}),(0,n.jsx)("div",{className:"text-white inline-block p-2 px-4 rounded-full text-xs font-bold ml-3 "+("ONLINE"===e.status?"bg-green-500":"STARTING"===e.status?"bg-yellow-500":"REBOOTING"===e.status?"bg-amber-100":"bg-red-500"),children:"ONLINE"===e.status?"Fully Operational":"STARTING"===e.status?"Starting Service":"REBOOTING"===e.status?"Rebooting":"Offline"})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center mb-3",children:[(0,n.jsx)("div",{className:"mt-2 text-left text-sm text-black",children:e.ip}),(0,n.jsxs)("div",{className:"flex-1 text-right text-gray-500 text-xs",children:[e.totalMessages.toLocaleString()," requests/min"]})]}),(0,n.jsx)("div",{className:"bg-gray-200 w-full h-0.5 my-5 rounded-2xl"}),(0,n.jsx)("button",{onClick:s,disabled:"ONLINE"!==e.status,className:"flex w-full items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-rose-600 rounded-lg hover:bg-rose-500 focus:outline-none focus:ring focus:ring-rose-300 focus:ring-opacity-80 "+("ONLINE"!==e.status?"cursor-not-allowed opacity-45":""),children:(0,n.jsx)("span",{className:"mx-1 justify-center flex-1",children:"Reboot"})})]})}),(0,n.jsx)("h1",{className:"font-bold flex justify-center text-2xl text-black",children:"Clients"}),(0,n.jsx)("div",{className:"bg-gray-200 w-full h-0.5 mb-3 mt-1 rounded-2xl"}),(0,n.jsx)("div",{className:"flex-1 my-6 mx-auto w-full h-0 min-h-0 overflow-y-scroll",children:e.clientDataList.map((e,t)=>(0,n.jsx)(i,{index:t+1,ip:e.clientIP,messages:e.messages.toLocaleString(),onDisconnectClick:()=>a(e.identifier)},t+1))})]})}):(0,n.jsx)("div",{children:"Loading..."})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8964)}),_N_E=e.O()}]);